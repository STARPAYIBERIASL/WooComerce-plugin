<?php
require_once('StarPayAPI.php');
require_once('StarPayUtils.php');
require_once('StarPayConfig.php');
$config = StarPayConfig::getInstance();

//$config->setACCESSID('A10000008');
//$config->setMCHACCESSNUMBER('B10000003');
//$config->setVERSION('1.0');
//$config->setSECRETKEY('-----BEGIN RSA PRIVATE KEY-----
//MIIEpQIBAAKCAQEArUnMyHs3llZgxNQ8cJf7zsDvNAC/jKWFn/2N/bqMy588Ja6u
//AP3+Y2pjmAWWvXqybkVxvl9VSwqiz4ymexzjTcbip0xFlzmPL9yfvrCj5H4JFkjw
///LA73XPSeTIe1r0jhPlOUGKf7chEqp3m9rSrkPgpyQWWSQJrJu4nGk8CqgSnSQkB
//4LnuXnSwxJf4bGf+ybTsXV8M2wEu5/btUKe/eUmVCEWce8+qfUj2LoqC1gC1RT5x
//bTWEiLUH7SRdOt853/5XVVYtdwgN93fZHfY4CAAUJp6fN4DG3N+5XRgirnlt1CKn
//fE1mOLlNBnW9SkVJGnXaso7cXcVNEAKQGXGu1QIDAQABAoIBAQCdLiSu8HzyQ3VQ
//88XCx0jjN8OA4vDcLUMwZLfHns+Y3t2avIAebESzfkvKF7+sLL/uH9VVPXnLMGGP
//at+TKhfPc4ghAaDZ057aZf8L44M1fVDWwuC8A0q5yxXtUpYAZ9zw/4WWim7QKuiF
//7eYSfrxkKYUVTpkLrkLtM/WJ+oLLHSFBzFrA1rrvwDFQSaTmqcUXTw7W980eDMDm
//4gENbOttiWr4IOgdU8dEWTpH3OE4kOwVM6bKrFavTmQrbjGJijsAyz8aoRNmuwSS
//ZUnRacabI0B/0y4FMEwdC9yjfGhuMdG56WVcq+GhGKoAwtT/mBw9rUUjTOFM5ZAU
//xNBgKURdAoGBANeGG0dyrQkHiHkY7+C4n5ImmDpbc8qo2vWJtmHw8bEy4aqMGiN9
//T34/OYBkxxTcv5RcobaHipB26welR2+1OYknYCrl6qXBIMRjdkKWWkMKZqO9k7dX
//giiHKifTZQzqFs9HRsHDN79rsVIyVsgZ+RTrQFOgn6bLgP7I+zOlF0M7AoGBAM3V
//Go56FcBBEiuebniFDNfC1C6MD2gwQUg0pKLsnZ8Np88xQAj+cw+veoV2omGRqkpg
//Gxq5WVkTYdQ+QggdqLyq086j4Y3RaV5JTUqEVogjzY7V3olassnOtYoq/9cVWcdH
//KXpRi+7CImvZ1QHvH2MEvqonFWR2JV0YPk2JcZUvAoGBAJL/Eb4CdghxjeBiZMGV
//yqgpEKzE0U4JKwZLPgzBBGfCd24WDoHkJwLJZpOuqKYPBc/P+i//dD+iDB1z2ixT
//o4FrTMkVdZxGA+5OlEtINxoAjw7g704eLlUsE1GEeih7xMDtMVJYrr4tWozgbpYe
//OOfOqFohdKKTrFCajdKkqCAfAoGALekspT8B/wIEpYoPJf63YKDqZv+CqECrLwne
//9yBEACgxl/tqRxdKXuNLNt3BVnYBP9mz8gAJt96k4YyJefnzmzGXUO4o71MYZ5l+
//DfL6wh8KSKPXoVeDrZPX1lvE+RqgDd0HmWr7BWRz/Q53fpjxrUpvpNBW6zOXHe68
//ZtsTZK0CgYEAlPm0SNNBxUMCrKQ8xtTXVU8/puJLe1DJB39qwxRu1qWHKOndjHtq
//R0AZySXm6TtEBwbWUzlquKGfKJaycVxt46yAnOGj/oR/ojgZRaeVc/H7JLK67tOj
//JMvYD9CTRaDtJjVGwkbK/wCDHbgXmngdACeTmoTy+Clu4ZfAtmMsMKM=
//-----END RSA PRIVATE KEY-----
//');
$config->setACCESSID('A10000043');
$config->setMCHACCESSNUMBER('B10000167');
$config->setVERSION('1.0');
$config->setSECRETKEY('-----BEGIN RSA PRIVATE KEY-----
MIIEvQIBADANBgkqhkiG9w0BAQEFAASCBKcwggSjAgEAAoIBAQCYdl+yePAD98UxkDtoGEFgBB+KTMkvJ8W1NSLnQpas+g1O18AWHZUg/aZoe9Wt2DRm5pmgM1XpCQ6D/H409mWOWgjM/WSFs9MH13DHGfRs299Eg+RDHklgA66yTJVxiiaqJYlYQ4A8879V4XExFEoWGPc+IEO5CjA6/Ko2SOfAGcoTTkKE+v2e0tdwFK1dJuDFLX9QsMuMR4tLZK0IlE9tEsHShcy3524DnzlyVUZ2t0aBr8o/8qaC9fFbVrtKPvyVbzDG3jiGX4Pje5ULMtJ5QW5JgDhqEx3A+hIWV3oV/OOrXp7Cbbsd9AdvJEDJ8LV9eFS8YQMteYdExI7BsULfAgMBAAECggEAVEumr5vUQK1edv/jCLPYeYjuE15PIeZglscRTEHx4yPB9eSuDMxAZuQ3fK9zPlI67uXy7LNVfaoHP4x8DzZogiNfmE9Fo/L/6+b/MOY10XZj5JLzwvRc51xB280iF4ulww9L9+QiZBD0qjwihFtOdxdIpC3co9NxRTvrtGXs1LXR00T7JQZXo2/+DjBcTR55PZlyOm0vNgR2F+fatjxAKbnxK75ZP4OofoPxT/k98+PqMy3P2szH7420p9kXDSKO5LZ+Yaxl29IBZPJwrhALolLbY+4Xb3RUWbbGI3wgYv4ptiOAtdzV0RXafX6rsL81jtXBW5N0grxNxCVJyUZEMQKBgQDcWMBKr2drmDyOhGraRNEo/qpz8Uyj8dx/yA/2t0wOME+LBacXU/tTFZnMrHQDnc/5+hX3XUmC4zpNg/UYzeNwOkTw8F742lFmO5lPvuFveZ//vI8+HuaRZhL0Oo7jkWO0GlwpHaYhBCk583ynZGEJ5r8qr26CL+ptqWL56m51WQKBgQCxIbRvHpxj0K8LTjP0syielpXPbVPZ7BPgVhR63z1Jgrgod7ZBJNbyCx5qPLr5+JALr8BK29h2XBaUQIY/B8Cu9WJPNcqOypkamqNfqw3pPrQQckR/WhNkJd1yGYP83+5DuIIq269ZoE4PIOO8MFkwoRtLr0YcQacW1ZULFWsa9wKBgBYZfKfA8eFzslck5safck7nQ9c/E026G0Bho2A+QA2IQOITng+T57gMiZFilnwqXsqWj49wtse+3IEbxABJ3g7KeVGk+hGBa/qR7a122otgqnBuy/sSBFP+5dXC7cPbOCG/JxEknR3gmfXq+sybH7RrhS7Vy4KZJaz7+SZRoeR5AoGBAJfduvJuf01A9WMvCHKrTI8zsnvmUzcLJjt38hUq40PsdHIVuUf/Ct7403noWbLJ/s5WP/qupNdNuvoenDrcLcKTllctWl60qzHZFWuHn+SzovRa1AmQNAHwSP1zjOs5HvIm9ktCkQO54lMsMrT9iuqbpmhsfSLq0xRLyH55PZwfAoGALsdSEeHRHBNMMVBjvXDgyLTMnRhy56L9gfmTVK3KJkg7kf+1hqEHELZp5aFDvzCKHZC2QIAyWaE+HA/QJT9KfKK+pah7yRbjAMwIwgWkqK4jn7GTlYyjcDvmt2pC4flmjUSLA0ZQqC3Bqh3nvdKxLPq4dEzznzqUu3XMgKIBnPA=
-----END RSA PRIVATE KEY-----
');

$api = new StarPayAPI();
//$result = $api->scanToPay('test-11-14-123', 0.01, 'yesy', 'http://c0bd850e.ngrok.io');
//echo $result['coreImgForBase64'];
$result = $api->webOnlinePay('20211227000000000028', 0.01, 'yesy',
    'http://c0bd850e.ngrok.io','http://www.baidu.com','ALIPAYPLUS','');
//print_r(array_keys($result));
//echo $result['code'];